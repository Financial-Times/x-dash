@import 'o-icons/main';
@import 'o-colors/main';

$o-typography-load-fonts: false;
@import 'o-typography/main';
@include oTypography();

$height--minimised: 48px;
$image-size: 72px;

@mixin expandedButtonsStyle {
	border: none;
	width: 64px;
	height: 64px;
	background-color: oColorsGetPaletteColor('white');
	margin: 16px;
	border-radius: 32px;

	&:focus,
	&:hover{
		background-color: oColorsMix('black', 'white', 10);
	}
}

@mixin minimisedButtonsStyle {
	border: none;
	background-color: oColorsGetPaletteColor('slate');
	margin: 4px;
	border-radius: 20px;

	&:focus,
	&:hover{
		background-color: oColorsMix('slate', 'white', 80);
	}
}

.audio-player {
	display: grid;
	@include oTypographySans();
}

.audio-player--expanded {
	grid-template-columns: 1fr 1fr 1fr;
	grid-template-rows: 48px ($image-size/2) ($image-size/2) auto min-content 96px 72px;
	grid-template-areas: ". minimise-button ."
	"title title title"
	"series-name series-name series-name"
	"control-timeline control-timeline control-timeline"
	"status . remaining"
	"rewind play-pause forward"
	". control-speed .";
	padding: 0px 20px;
	min-height: 360px;
	border-radius: 10px 10px 0px 0px;
	background-color: oColorsGetPaletteColor('white');
	color: oColorsGetPaletteColor('black');
}

.audio-player--minimised {
	grid-template-columns: $height--minimised min-content auto $height--minimised;
	grid-template-areas: "play-pause series-name title close-button"
	"play-pause status status close-button";
	height: $height--minimised;
	border-radius: 24px;
	background-color: oColorsGetPaletteColor('slate');
	color: oColorsGetPaletteColor('white');
}

.audio-player__play-pause {
	grid-area: play-pause;
	justify-self: center;

	.audio-player--expanded & {
		@include expandedButtonsStyle;
	}

	.audio-player--minimised & {
		@include minimisedButtonsStyle;
	}
}

.audio-player__play-pause--play {
	.audio-player--expanded & {
		@include oIconsGetIcon('play', oColorsGetPaletteColor('black'), 64);
	}

	.audio-player--minimised & {
		@include oIconsGetIcon('play', oColorsGetPaletteColor('white'), 36);
		background-size: 36px;
		background-position: center center;
		width: 40px;
		height: 40px;
	}
}

.audio-player__play-pause--pause {
	.audio-player--expanded & {
		@include oIconsGetIcon('pause', oColorsGetPaletteColor('black'), 64);
	}

	.audio-player--minimised & {
		@include oIconsGetIcon('pause', oColorsGetPaletteColor('white'), 36);
		background-size: 36px;
		background-position: center center;
		width: 40px;
		height: 40px;
	}
}

.audio-player__close {
	@include oIconsGetIcon('cross', oColorsGetPaletteColor('white'), 24);
	@include minimisedButtonsStyle;
	background-size: 24px;
	background-position: center center;
	width: 40px;
	height: 40px;
	grid-area: close-button;
}

.audio-player__rewind {
	@include oIconsGetIcon('skip-backward-30', oColorsGetPaletteColor('black'), 64);
	@include expandedButtonsStyle;
	grid-area: rewind;
	justify-self: end;
}

.audio-player__forward {
	@include oIconsGetIcon('skip-forward-30', oColorsGetPaletteColor('black'), 64);
	@include expandedButtonsStyle;
	grid-area: forward;
	justify-self: start;
}


.audio-player__minimise-button {
	@include oIconsGetIcon('arrow-down', oColorsMix('black', 'white', 20), 48);
	grid-area: minimise-button;
	justify-self: center;
	border: none;
}

.audio-player__control-timeline {
	grid-area: control-timeline;
	padding-top: 24px;
}

.audio-player__control-speed {
	@include oTypographySansBold($scale: 2);
	grid-area: control-speed;
	justify-self: center;
	height: 44px;
	width: 88px;
	margin: 14px 0px;
	border-radius: 22px;
	border: none;
	background-color: oColorsGetPaletteColor('teal');
	color: oColorsGetPaletteColor('white');
}

.audio-player__info__title {
	grid-area: title;
	white-space: nowrap;
	overflow: hidden;
	align-self: center;

	.audio-player--expanded & {
		@include oTypographySansBold($scale: 0);
		margin-left: $image-size + 10px;
	}

	.audio-player--minimised & {
		@include oTypographySansBold($scale: -1);
	}
}

.audio-player__info__series-name {
	@include oTypographySansBold($scale: -1);
	grid-area: series-name;
	align-self: center;

	.audio-player--expanded & {
		margin-left: $image-size + 10px;
	}

	.audio-player--minimised & {
		margin-left: 8px;
		margin-right: 4px;
		white-space: nowrap;
	}
}

.audio-player__info__image {
	grid-area: title;
	position: relative;

	img {
		position: absolute;
		width: $image-size;
		height: $image-size;
		background-color: orangered;
	}
}

.audio-player__info__remaining {
	.audio-player--expanded & {
		@include oTypographySans($scale: -1);
		grid-area: remaining;
		justify-self: end;
		margin-bottom: 12px;
	}

	.audio-player--minimised & {
		@include oTypographySans($scale: -2);
		grid-area: status;
		align-self: center;
		margin-left: 8px;
	}
}

.audio-player__info__current-time {
	@include oTypographySans($scale: -1);
	grid-area: status;
	justify-self: start;
}

.audio-player__status {
	grid-area: status;
	display: flex;
	align-items: center;

	.audio-player--expanded & {
		@include oTypographySans($scale: -1);
		margin-bottom: 12px;
	}

	.audio-player--minimised & {
		@include oTypographySize($scale: -2);
		margin-left: 8px;
	}

	/* make the mini spinner smaller*/
	.audio-player__loader {
		width: 8px;
		height: 8px;
		margin-right: 4px;
	}
}
